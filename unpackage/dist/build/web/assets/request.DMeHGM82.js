import{s as e,t as o}from"./index-B6DdPhlT.js";import{f as n,e as t}from"./_plugin-vue_export-helper.Dda_PF8M.js";async function r(r,c={}){const s=n();if(!s)return e({title:"登录已过期，请重新登录",icon:"none"}),t(),{code:401,msg:"未登录或登录已过期"};try{const n=(await o.callFunction({name:r,data:{token:s,...c}})).result||{};return 401===n.code?(e({title:n.msg||"登录已过期，请重新登录",icon:"none"}),t()):n.code&&0!==n.code&&!n.silent&&e({title:n.msg||"请求失败",icon:"none"}),n}catch(i){return console.error("callCloud error",i),e({title:"请求出错",icon:"none"}),{code:-1,msg:"请求异常"}}}export{r as c};
